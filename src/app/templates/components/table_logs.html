<!-- Event Logs Table -->
<div id="widget-table-logs" draggable="true" class="panel p-0 rounded-lg overflow-hidden draggable-widget">
    <div class="widget-remove-btn" onclick="removeWidget('widget-table-logs')"><i class="fas fa-times"></i>
    </div>
    <div class="p-4 border-b border-white/10 flex flex-col md:flex-row justify-between items-center gap-4">
        <h3 class="font-display font-bold text-lg">System Logs</h3>
        <div class="flex items-center gap-3 w-full md:w-auto flex-wrap justify-end">
            <!-- Filters -->
            <select id="log-filter-time" onchange="renderSecureLogs()"
                class="input-field rounded px-2 py-1.5 text-xs outline-none focus:ring-1 focus:ring-current transition-all">
                <option value="all">All Time</option>
                <option value="1h">Last Hour</option>
                <option value="24h">Last 24h</option>
            </select>
            <select id="log-filter-level" onchange="renderSecureLogs()"
                class="input-field rounded px-2 py-1.5 text-xs outline-none focus:ring-1 focus:ring-current transition-all">
                <option value="all">All Levels</option>
                <option value="CRIT">Critical</option>
                <option value="WARN">Warning</option>
                <option value="INFO">Info</option>
            </select>

            <div class="relative flex-1 md:flex-none">
                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 opacity-40 text-xs"></i>
                <input type="text" placeholder="Search logs..."
                    class="input-field rounded pl-9 pr-3 py-1.5 text-xs w-full md:w-48 outline-none focus:ring-1 focus:ring-current transition-all">
            </div>
            <div class="relative">
                <button onclick="toggleLogsDownloadMenu()"
                    class="input-field px-3 py-1.5 rounded text-xs hover:opacity-80 transition"><i
                        class="fas fa-download"></i></button>
                <div id="logs-download-menu"
                    class="hidden absolute right-0 top-full mt-2 w-32 bg-white dark:bg-black border border-gray-200 dark:border-white/10 rounded shadow-xl z-20 flex flex-col overflow-hidden">
                    <button onclick="downloadLogsPDF()"
                        class="px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-white/10 transition flex items-center gap-2">
                        <i class="fas fa-file-pdf text-red-500"></i> PDF
                    </button>
                    <button onclick="downloadLogsCSV()"
                        class="px-4 py-2 text-left text-xs hover:bg-gray-100 dark:hover:bg-white/10 transition flex items-center gap-2">
                        <i class="fas fa-file-csv text-green-500"></i> CSV
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="overflow-x-auto h-64 overflow-y-auto custom-scrollbar">
        <table class="w-full text-left text-xs">
            <thead class="table-header font-mono uppercase sticky top-0 z-10">
                <tr>
                    <th
                        class="p-4 bg-gray-100 dark:bg-[#111] border-b border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-400">
                        Timestamp</th>
                    <th
                        class="p-4 bg-gray-100 dark:bg-[#111] border-b border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-400">
                        Severity</th>
                    <th
                        class="p-4 bg-gray-100 dark:bg-[#111] border-b border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-400">
                        Source</th>
                    <th
                        class="p-4 bg-gray-100 dark:bg-[#111] border-b border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-400">
                        Message</th>
                    <th
                        class="p-4 text-right bg-gray-100 dark:bg-[#111] border-b border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-400">
                        Action</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-200 dark:divide-white/5 font-mono" id="logs-body">
                <!-- Logs will be injected here after authentication -->
            </tbody>
        </table>
    </div>
</div>